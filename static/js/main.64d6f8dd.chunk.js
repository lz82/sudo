(this["webpackJsonptrain-ticket-pro"]=this["webpackJsonptrain-ticket-pro"]||[]).push([[0],{138:function(n,l,e){"use strict";e.r(l);var r=e(0),t=e.n(r),o=e(10),u=e.n(o),a=(e(82),e(83),e(84),e(71)),c=e.n(a),i=(e(85),e(38)),s=(e(87),e(55)),f=e(39),p=e(75),d=e(24),b=e(36),h=e.n(b),m=(e(89),e(18)),v=e(14),g=e.n(v);var w=function(n){var l=Object(r.useState)(!1),e=Object(d.a)(l,2),o=e[0],u=e[1],a=Object(r.useState)({}),c=Object(d.a)(a,2),i=c[0],s=c[1],f=Object(r.useState)(n.item),p=Object(d.a)(f,2),b=p[0],h=p[1],v=function(){u(!0)},w=function(){u(!1)},k=function(l){var e=b.val+l;e>4&&(e=4),e<1&&(e=1),h({key:b.key,val:e,isLock:b.isLock}),n.onChange({key:b.key,val:e})};Object(r.useEffect)((function(){s(function(){var n=b.key,l="";l=n%4===1?"border-right-4":n%4===0||n%4===2?"border-right-1":"border-right-0";var e=parseInt(n/4,10);return{rightCls:l,bottomCls:1===e?"border-bottom-4":0===e||2===e?"border-bottom-1":"border-bottom-0"}}())}),[]),Object(r.useEffect)((function(){console.log("useEffect..."),h(n.item),E()}),[n.item.val,n.item.hasError]);var E=function(){return t.a.createElement("div",{className:[g.a["cube-wrapper"],g.a[i.rightCls],g.a[i.bottomCls],b.hasError?g.a.error:""].join(" "),onMouseEnter:v,onMouseLeave:w},b.isLock?t.a.createElement("i",{className:"iconfont icon-lock "+g.a["lock-icon"]}):null,t.a.createElement("span",null,b.val),!b.isLock&&o?t.a.createElement(t.a.Fragment,null,t.a.createElement(m.a,{type:"plus-circle",className:g.a["arrow-top"],onClick:function(){return k(1)}}),t.a.createElement(m.a,{type:"minus-circle",className:g.a["arrow-down"],onClick:function(){return k(-1)}})):null)};return E()},k=[[3,1,null,4,null,null,1,null,null,2,null,null,null,3,null,2],[null,1,null,null,null,null,1,2,null,2,null,null,1,null,2,4],[1,null,2,null,null,null,4,null,4,null,null,2,null,null,3,null],[null,4,2,null,null,3,null,null,null,null,4,2,4,null,null,1],[null,3,null,4,1,null,2,null,3,null,4,1,null,1,null,null],[2,null,4,null,null,null,3,null,3,null,null,4,null,2,1,null],[null,3,2,null,null,null,3,null,3,4,null,null,1,null,null,3],[null,null,4,null,null,2,1,null,null,null,null,null,1,3,null,4],[null,3,null,1,null,1,null,2,1,null,null,null,null,null,1,4],[4,null,null,2,null,3,4,null,null,4,null,3,3,null,null,null],[null,2,null,null,4,null,null,3,null,3,1,null,null,4,3,null],[null,null,3,4,null,null,null,null,2,4,1,null,null,1,null,null],[1,null,null,4,null,4,1,null,null,3,2,null,2,null,null,3],[1,null,3,null,null,3,null,null,null,2,null,3,null,null,null,4]],E=[[0,1,2,3],[4,5,6,7],[8,9,10,11],[12,13,14,15]],y=[[0,4,8,12],[1,5,9,13],[2,6,10,14],[3,7,11,15]],j=[[0,1,4,5],[2,3,6,7],[8,9,12,13],[10,11,14,15]];var O=function(){var n=Object(r.useState)([]),l=Object(d.a)(n,2),e=l[0],o=l[1],u=function(){var n=k[parseInt(Math.random()*k.length,10)];o(n.map((function(n,l){return{key:l,val:n,isLock:!!n,hasError:!1}})))};Object(r.useEffect)((function(){u()}),[]);var a=function(n){var l=e.map((function(l){return l.key===n.key?Object.assign(l,Object(p.a)({},n,{hasError:!1})):Object.assign(l,{hasError:!1})}));o(l)},c=function(n){var l=[];n.forEach((function(n){l.push(e[n].val)}));var r=new Set(l);return n.length===r.size};return t.a.createElement("div",{className:h.a["sudoku-wrapper"]},t.a.createElement("h1",null,"\u6570\u72ec"),t.a.createElement("div",{className:h.a["sudo-container"]},e.map((function(n){return t.a.createElement(w,{key:n.key,item:n,onChange:a})}))),t.a.createElement("div",{className:h.a["btn-wrapper"]},t.a.createElement(i.a,{type:"primary",size:"large",onClick:function(){console.log(e);var n=[];e.forEach((function(l){l.val||n.push(l.key)})),E.forEach((function(l){var e;c(l)||(e=n).push.apply(e,Object(f.a)(l))})),y.forEach((function(l){var e;c(l)||(e=n).push.apply(e,Object(f.a)(l))})),j.forEach((function(l){var e;c(l)||(e=n).push.apply(e,Object(f.a)(l))})),(n=new Set(n)).size>0?(o(e.map((function(l){return console.log(n),Array.from(n).findIndex((function(n){return n===l.key}))>-1?Object.assign(l,{hasError:!0}):Object.assign(l,{hasError:!1})}))),s.a.error("\u8bf7\u4ed4\u7ec6\u68c0\u67e5\u6807\u7ea2\u7684\u683c\u5b50\u5594~")):s.a.success("\u606d\u559c\u4f60\uff0c\u5b8c\u6210\u4e86\uff01")}},"\u63d0\u4ea4"),"\xa0\xa0",t.a.createElement(i.a,{type:"danger",size:"large",onClick:function(){o(e.map((function(n){return n.isLock?Object.assign(n,{hasError:!1}):Object.assign(n,{val:null,hasError:!1})})))}},"\u91cd\u7f6e"),"\xa0\xa0",t.a.createElement(i.a,{type:"danger",size:"large",onClick:function(){u()}},"\u518d\u6765\u4e00\u6b21")))};var C=function(){return t.a.createElement("div",{className:c.a["app-wrapper"]},t.a.createElement(O,null))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(n,l){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var e=n.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),l&&l.onUpdate&&l.onUpdate(n)):(console.log("Content is cached for offline use."),l&&l.onSuccess&&l.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}u.a.render(t.a.createElement(C,null),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/sudo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var l="".concat("/sudo","/service-worker.js");N?(!function(n,l){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(e){var r=e.headers.get("content-type");404===e.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):S(n,l)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(l,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):S(l,n)}))}}()},14:function(n,l,e){n.exports={"cube-wrapper":"cube-wrapper--P1Ok3","lock-icon":"lock-icon--3wjlh","arrow-top":"arrow-top--2n83J","arrow-down":"arrow-down--2W3dJ",error:"error--Zd77N","border-right-0":"border-right-0--YWvc_","border-right-1":"border-right-1--11lsb","border-right-4":"border-right-4--1D24J","border-bottom-0":"border-bottom-0--1kNwl","border-bottom-1":"border-bottom-1--N54xx","border-bottom-4":"border-bottom-4--3AKo_"}},36:function(n,l,e){n.exports={"sudoku-wrapper":"sudoku-wrapper--mT7jJ","sudo-container":"sudo-container--1U5_R","btn-wrapper":"btn-wrapper--1x283"}},71:function(n,l,e){},77:function(n,l,e){n.exports=e(138)},83:function(n,l,e){},84:function(n,l,e){}},[[77,1,2]]]);
//# sourceMappingURL=main.64d6f8dd.chunk.js.map
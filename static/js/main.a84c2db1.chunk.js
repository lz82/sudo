(this["webpackJsonptrain-ticket-pro"]=this["webpackJsonptrain-ticket-pro"]||[]).push([[0],{131:function(n,l,e){"use strict";e.r(l);var r=e(0),t=e.n(r),o=e(20),u=e.n(o),a=(e(77),e(78),e(79),e(65)),c=e.n(a),i=(e(80),e(33)),s=e(34),f=e(17),p=e(31),d=e.n(p),b=(e(82),e(21)),h=e(7),m=e.n(h);var v=function(n){var l=Object(r.useState)(!1),e=Object(f.a)(l,2),o=e[0],u=e[1],a=Object(r.useState)({}),c=Object(f.a)(a,2),i=c[0],s=c[1],p=Object(r.useState)(n.item),d=Object(f.a)(p,2),h=d[0],v=d[1],g=function(){u(!0)},w=function(){u(!1)},k=function(l){var e=h.val+l;e>4&&(e=4),e<1&&(e=1),v({key:h.key,val:e,isLock:h.isLock}),n.onChange({key:h.key,val:e})};Object(r.useEffect)((function(){s(function(){var n=h.key,l="";l=n%4===1?"border-right-4":n%4===0||n%4===2?"border-right-1":"border-right-0";var e=parseInt(n/4,10);return{rightCls:l,bottomCls:1===e?"border-bottom-4":0===e||2===e?"border-bottom-1":"border-bottom-0"}}())}),[]),Object(r.useEffect)((function(){console.log("useEffect..."),v(n.item),E()}),[n.item.val,n.item.hasError]);var E=function(){return t.a.createElement("div",{className:[m.a["cube-wrapper"],m.a[i.rightCls],m.a[i.bottomCls],h.hasError?m.a.error:""].join(" "),onMouseEnter:g,onMouseLeave:w},h.isLock?t.a.createElement("i",{className:"iconfont icon-lock "+m.a["lock-icon"]}):null,t.a.createElement("span",null,h.val),!h.isLock&&o?t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{type:"plus-circle",className:m.a["arrow-top"],onClick:function(){return k(1)}}),t.a.createElement(b.a,{type:"minus-circle",className:m.a["arrow-down"],onClick:function(){return k(-1)}})):null)};return E()},g=[[3,1,null,4,null,null,1,null,null,2,null,null,null,3,null,2],[null,1,null,null,null,null,1,2,null,2,null,null,1,null,2,4],[1,null,2,null,null,null,4,null,4,null,null,2,null,null,3,null],[null,4,2,null,null,3,null,null,null,null,4,2,4,null,null,1],[null,3,null,4,1,null,2,null,3,null,4,1,null,1,null,null],[2,null,4,null,null,null,3,null,3,null,null,4,null,2,1,null],[null,3,2,null,null,null,3,null,3,4,null,null,1,null,null,3],[null,null,4,null,null,2,1,null,null,null,null,null,1,3,null,4],[null,3,null,1,null,1,null,2,1,null,null,null,null,null,1,4],[4,null,null,2,null,3,4,null,null,4,null,3,3,null,null,null],[null,2,null,null,4,null,null,3,null,3,1,null,null,4,3,null],[null,null,3,4,null,null,null,null,2,4,1,null,null,1,null,null],[1,null,null,4,null,4,1,null,null,3,2,null,2,null,null,3],[1,null,3,null,null,3,null,null,null,2,null,3,null,null,null,4]],w=[[0,1,2,3],[4,5,6,7],[8,9,10,11],[12,13,14,15]],k=[[0,4,8,12],[1,5,9,13],[2,6,10,14],[3,7,11,15]],E=[[0,1,4,5],[2,3,6,7],[8,9,12,13],[10,11,14,15]];var y=function(){var n=Object(r.useState)([]),l=Object(f.a)(n,2),e=l[0],o=l[1],u=function(){var n=g[parseInt(Math.random()*g.length,10)];o(n.map((function(n,l){return{key:l,val:n,isLock:!!n,hasError:!1}})))};Object(r.useEffect)((function(){u()}),[]);var a=function(n){e.map((function(l){return l.key===n.key?Object.assign(l,n):l})),o(e)},c=function(n){var l=[];n.forEach((function(n){l.push(e[n].val)}));var r=new Set(l);return n.length===r.size};return t.a.createElement("div",{className:d.a["sudoku-wrapper"]},t.a.createElement("h1",null,"\u6570\u72ec"),t.a.createElement("div",{className:d.a["sudo-container"]},e.map((function(n){return t.a.createElement(v,{key:n.key,item:n,onChange:a})}))),t.a.createElement("div",{className:d.a["btn-wrapper"]},t.a.createElement(i.a,{type:"primary",size:"large",onClick:function(){console.log(e);var n=[];e.forEach((function(l){l.val||n.push(l.key)})),w.forEach((function(l){var e;c(l)||(e=n).push.apply(e,Object(s.a)(l))})),k.forEach((function(l){var e;c(l)||(e=n).push.apply(e,Object(s.a)(l))})),E.forEach((function(l){var e;c(l)||(e=n).push.apply(e,Object(s.a)(l))})),n=new Set(n),o(e.map((function(l){return console.log(n),Array.from(n).findIndex((function(n){return n===l.key}))>-1?Object.assign(l,{hasError:!0}):Object.assign(l,{hasError:!1})})))}},"\u63d0\u4ea4"),"\xa0",t.a.createElement(i.a,{type:"danger",size:"large",onClick:function(){o(e.map((function(n){return n.isLock?Object.assign(n,{hasError:!1}):Object.assign(n,{val:null,hasError:!1})})))}},"\u91cd\u7f6e"),"\xa0",t.a.createElement(i.a,{type:"danger",size:"large",onClick:function(){u()}},"\u518d\u6765\u4e00\u6b21")))};var j=function(){return t.a.createElement("div",{className:c.a["app-wrapper"]},t.a.createElement(y,null))},O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(n,l){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var e=n.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),l&&l.onUpdate&&l.onUpdate(n)):(console.log("Content is cached for offline use."),l&&l.onSuccess&&l.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}u.a.render(t.a.createElement(j,null),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var l="".concat("","/service-worker.js");O?(!function(n,l){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(e){var r=e.headers.get("content-type");404===e.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):C(n,l)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(l,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(l,n)}))}}()},31:function(n,l,e){n.exports={"sudoku-wrapper":"sudoku-wrapper--mT7jJ","sudo-container":"sudo-container--1U5_R","btn-wrapper":"btn-wrapper--1x283"}},65:function(n,l,e){},7:function(n,l,e){n.exports={"cube-wrapper":"cube-wrapper--P1Ok3","lock-icon":"lock-icon--3wjlh","arrow-top":"arrow-top--2n83J","arrow-down":"arrow-down--2W3dJ",error:"error--Zd77N","border-right-0":"border-right-0--YWvc_","border-right-1":"border-right-1--11lsb","border-right-4":"border-right-4--1D24J","border-bottom-0":"border-bottom-0--1kNwl","border-bottom-1":"border-bottom-1--N54xx","border-bottom-4":"border-bottom-4--3AKo_"}},72:function(n,l,e){n.exports=e(131)},78:function(n,l,e){},79:function(n,l,e){}},[[72,1,2]]]);
//# sourceMappingURL=main.a84c2db1.chunk.js.map